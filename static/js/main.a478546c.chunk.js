(this["webpackJsonpfrontend-javascript-test"]=this["webpackJsonpfrontend-javascript-test"]||[]).push([[0],{102:function(e,t,a){},16:function(e,t,a){e.exports={header:"table_header__2sX1c",table:"table_table__uJehN",thead_btn:"table_thead_btn__3Qcqy",paginationArea:"table_paginationArea__22Pqc",numberWrapper:"table_numberWrapper__3PacV",numberActive:"table_numberActive__y_O7f",keyboard_focus_button:"table_keyboard_focus_button__1y84s",keyboard_focus_button__label:"table_keyboard_focus_button__label__1VOaq",ComplexButton_Content:"table_ComplexButton_Content__1PgGX"}},166:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(45),s=a.n(l),c=a(28);a(102),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(9),o=a(6),u=a(94),d=a(208),m=a(70),p=a(7),E={settings:{listColumnsOfTable:[{name:"id",label:"Id"},{name:"firstName",label:"\u0418\u043c\u044f"},{name:"lastName",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},{name:"eMail",label:"\u041f\u043e\u0447\u0442\u0430"},{name:"telNo",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}],sortMode:null,sortDirection:null,itemsPerPage:20,currentPage:1,isFetching:!1,datasetType:null},filter:"",userCard:null,isEditorActive:!1,dataCache:[],tableDataOutput:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSERT-TABLE":var a=Object(p.a)({},e);return a.settings=Object(p.a)({},e.settings),a.settings.datasetType=t.datasetType,a.dataCache=t.data.map((function(e,t){return{index:t,id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,streetAddress:e.address?e.address.streetAddress:null,city:e.address?e.address.city:null,province:e.address?e.address.state:null,zip:e.address?e.address.zip:null,description:e.description?e.description:null}})),a;case"INSERT-ROW":var n=Object(p.a)({},e),r=t.record,l=r.id,s=r.firstName,c=r.lastName,i=r.email,o=r.phone,u=r.streetAddress,d=r.city,b=r.province,f=r.zip,g=r.description,v=n.dataCache.map((function(e){return e.index}));v.sort((function(e,t){return e>t?-1:e<t?1:0}));var y=Number(v[0])+1,_={index:y,id:l,firstName:s,lastName:c,email:i,phone:o,description:g,streetAddress:u,city:d,province:b,zip:f};return n.dataCache=[_].concat(Object(m.a)(e.dataCache)),n;case"UPDATE-ROW":var h=Object(p.a)({},e),C=h.dataCache.findIndex((function(e){return e.index===t.index}));return h.dataCache[C]=t.record,h;case"DELETE-ROW":var O=Object(p.a)({},e);return O.dataCache=e.dataCache.filter((function(e){return e.index!==t.index})),O;case"SETUP-SORT":var P=Object(p.a)({},e);return P.settings=Object(p.a)({},e.settings),t.force?P.settings.sortDirection="asc":P.settings.sortMode===t.mode&&"asc"===P.settings.sortDirection?P.settings.sortDirection="desc":P.settings.sortDirection="asc",P.settings.sortMode=t.mode,P;case"DO-SORT":var N=Object(p.a)({},e);return N.settings=Object(p.a)({},e.settings),N.dataCache=Object(m.a)(e.dataCache),null!==N.settings.sortMode&&N.dataCache.sort((function(e,t){var a,n;switch(N.settings.sortMode){case"id":a=e.id,n=t.id;break;case"firstName":a=e.firstName,n=t.firstName;break;case"lastName":a=e.lastName,n=t.lastName;break;case"eMail":a=e.email,n=t.email;break;case"telNo":a=e.phone,n=t.phone;break;default:a=e.id,n=t.id}return a<n?"asc"===N.settings.sortDirection?-1:1:a>n?"asc"===N.settings.sortDirection?1:-1:0})),N;case"SETUP-FILTER":var D=Object(p.a)({},e);return D.settings=Object(p.a)({},e.settings),D.filter="",t.stringToFind&&(D.filter=t.stringToFind.toLowerCase()),D;case"DO-FILTER":var T=Object(p.a)({},e);T.settings=Object(p.a)({},e.settings);var S=T.filter;return T.tableDataOutput=e.dataCache.filter((function(e){return String(e.id).toLowerCase().includes(S)||e.firstName.toLowerCase().includes(S)||e.lastName.toLowerCase().includes(S)})),T;case"SETUP-CURRENT-PAGE":var j=Object(p.a)({},e);return j.settings=Object(p.a)({},e.settings),t.numberOfPage?j.settings.currentPage=t.numberOfPage:j.settings.currentPage=1,j;case"SET-USER-CARD":var A=Object(p.a)({},e);return A.userCard=t.user,A;case"PRELOADER-SWITCH":var R=Object(p.a)({},e);return R.settings=Object(p.a)({},e.settings),R.settings.isFetching=t.mode,R;default:return e}},f=function(e,t){return{type:"SETUP-SORT",mode:e,force:t}},g=function(e){return{type:"SETUP-FILTER",stringToFind:e}},v=function(e){return{type:"SETUP-CURRENT-PAGE",numberOfPage:e}},y=function(e){return{type:"PRELOADER-SWITCH",mode:e}},_=function(e){return function(t){t(function(e){return{type:"DELETE-ROW",index:e}}(e)),t({type:"DO-FILTER"})}},h=function(e){return function(t){t(f(e)),t({type:"DO-SORT"}),t({type:"DO-FILTER"}),t(v(1))}},C=function(e){return{type:"SET-USER-CARD",user:e}},O={isSettingsActive:!1,itemsPerPage:20},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-ITEMS-PER-PAGE":return Object(p.a)(Object(p.a)({},e),{},{itemsPerPage:t.itemsPerPage});default:return e}},N=Object(o.c)({data:b,settings:P,form:d.a}),D=Object(o.e)(N,Object(o.a)(u.a)),T=D;window.store=D;var S=a(8),j=(a(166),a(29));var A=Object(i.b)((function(e){return{isFetching:e.data.settings.isFetching,filterQuery:e.data.filter}}),{applyFilter:function(e){return function(t){t(f("id",!0)),t({type:"DO-SORT"}),t(g(e)),t({type:"DO-FILTER"}),t(v(1))}}})((function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),l=a[0],s=a[1];return Object(n.useEffect)((function(){s(e.filterQuery)}),[e.filterQuery]),r.a.createElement("div",{className:"filter"},r.a.createElement("input",{className:"filter__input",value:l,placeholder:""!==l?l:"Part of firstname or lastname...",onChange:function(e){var t=e.target.value;s(t)},onKeyPress:function(e){"Enter"===e.key&&s(e.target.value)}}),r.a.createElement("div",null,r.a.createElement("button",{className:"filter__button",onClick:function(){e.applyFilter(l)}},"Filter"),r.a.createElement("button",{className:"filter__button",onClick:function(){s(""),e.applyFilter("")}},"Clear")))}));var R=function(e){return r.a.createElement("div",{className:"preloader"},"Loading...")};var x=function(e){return e.isFetching?r.a.createElement(R,null):r.a.createElement("div",{className:"datasetMenu"},r.a.createElement("button",{className:"datasetMenu__button",onClick:function(){e.getDataset("SMALL")}},"Small Dataset"),r.a.createElement("button",{className:"datasetMenu__button",onClick:function(){e.getDataset("BIG")}},"Big Dataset"))},F=a(16),k=a.n(F),I=a(207),L=a(206),M=function(e){if(!e)return"Please fill all fields..."},U=function(e){var t=e.handleSubmit,a=e.pristine,n=e.reset,l=e.submitting,s=e.invalid;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(I.a,{name:"index",component:"input",type:"hidden"})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"id",placeholder:"id",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"firstName",placeholder:"First name",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"lastName",placeholder:"Last name",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"email",placeholder:"E-mail",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"phone",placeholder:"Phone number",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"streetAddress",placeholder:"Address",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"city",placeholder:"City",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"province",placeholder:"State",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"zip",placeholder:"zip",component:"input",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement(I.a,{name:"description",placeholder:"description",component:"textarea",type:"text",validate:[M]})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",disabled:s},"Save"),r.a.createElement("button",{type:"button",disabled:a||l,onClick:n},"Reset"),r.a.createElement("button",{type:"button",onClick:function(){e.setActiveEditor(!1)}},"Cancel")))};U=Object(o.d)(Object(i.b)((function(e,t){return{form:"editor"+t.index}})),Object(L.a)({enableReinitialize:!0}))(U);var w=function(e){var t="addRecord";return e.recordData&&(t=e.recordData.index),r.a.createElement("tr",{key:t},r.a.createElement("td",{colSpan:6},r.a.createElement("div",null,r.a.createElement(U,{setActiveEditor:e.setActiveEditor,onSubmit:function(t){t.index?e.submit(t.index,t):e.submit(t),e.setActiveEditor(!1)},initialValues:e.recordData,index:t}))))};var W=function(e){var t=e.recordData,a=t.index,l=t.id,s=t.firstName,c=t.lastName,i=t.email,o=t.phone,u=Object(n.useState)(!1),d=Object(j.a)(u,2),m=d[0],p=d[1],E=function(){e.setUserCard(e.recordData)},b=function(e){e.stopPropagation()};return r.a.createElement(r.a.Fragment,null,m?r.a.createElement(w,{recordData:e.recordData,submit:e.applyUpdate,setActiveEditor:p}):r.a.createElement("tr",{key:a,onClick:E},r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,o),r.a.createElement("td",{onClick:b},r.a.createElement("button",{onClick:function(){e.recordData,p(!0)}},"Edit"),r.a.createElement("button",{onClick:function(){!function(t){e.applyDelete(t)}(a)}},"Delete"))))};var B=Object(i.b)((function(e){return{tableColumns:e.data.settings.listColumnsOfTable,tableData:e.data.tableDataOutput,sortMode:e.data.settings.sortMode,sortDirection:e.data.settings.sortDirection,currentPage:e.data.settings.currentPage,isFetching:e.data.settings.isFetching}}),{applySort:h,setUserCard:C,applyInsert:function(e){return function(t){t(function(e){return{type:"INSERT-ROW",record:e}}(e)),t(f(null)),t(g("")),t({type:"DO-FILTER"})}},applyUpdate:function(e,t){return function(a){a(function(e,t){return{type:"UPDATE-ROW",index:e,record:t}}(e,t)),a(f(null)),a({type:"DO-FILTER"})}},applyDelete:_})((function(e){var t=function(t){console.log(t.target),console.log(t.target.dataset.name),e.applySort(t.target.dataset.name)},a=Object(n.useState)(!1),l=Object(j.a)(a,2),s=l[0],c=l[1],o=function(){c(!0)},u=e.tableColumns.length+1,d=Object(i.d)((function(e){return e.settings.itemsPerPage})),m=d*(e.currentPage-1),p=d*e.currentPage;return r.a.createElement("div",{className:"container"},r.a.createElement("table",{border:"1",cellSpacing:"0",className:k.a.table},r.a.createElement("thead",null,function(a){var n=a.map((function(a,n){return r.a.createElement("td",{key:n},r.a.createElement("button",{className:k.a.keyboard_focus_button,tabIndex:"0",name:a.name,"data-name":a.name,onClick:t},r.a.createElement("span",{className:k.a.keyboard_focus_button__label,tabIndex:"-1","data-name":a.name},a.label,e.sortMode===a.name?"asc"===e.sortDirection?" \u25b2":" \u25bc":"")))}));return r.a.createElement("tr",null,n,r.a.createElement("td",null,r.a.createElement("button",{onClick:o,disabled:s},"Add")))}(e.tableColumns)),r.a.createElement("tbody",null,s?r.a.createElement(w,{setActiveEditor:c,submit:e.applyInsert}):null,function(t,a,n,l){var s=t.slice(a,n).map((function(t){return r.a.createElement(W,{key:t.index,recordData:t,setUserCard:e.setUserCard,applyUpdate:e.applyUpdate,applyDelete:e.applyDelete})}));return t.length>0?s:r.a.createElement("tr",null,r.a.createElement("td",{colSpan:l},"No records"))}(e.tableData,m,p,u))))}));var z=function(e){return e.userCard?e.userCard.streetAddress?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"userFullData"},r.a.createElement("div",{className:"userFullData__col1"},r.a.createElement("span",{className:"userFullData__label"},"\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",r.a.createElement("strong",null,e.userCard.firstName," ",e.userCard.lastName)),r.a.createElement("span",{className:"userFullData__label"},"\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",r.a.createElement("b",null,e.userCard.streetAddress)),r.a.createElement("span",{className:"userFullData__label"},"\u0413\u043e\u0440\u043e\u0434: ",r.a.createElement("b",null,e.userCard.city)),r.a.createElement("span",{className:"userFullData__label"},"\u041f\u0440\u043e\u0432\u0438\u043d\u0446\u0438\u044f/\u0448\u0442\u0430\u0442: ",r.a.createElement("b",null,e.userCard.province)),r.a.createElement("span",{className:"userFullData__label"},"\u0418\u043d\u0434\u0435\u043a\u0441: ",r.a.createElement("b",null,e.userCard.zip))),r.a.createElement("div",{className:"userFullData__col2"},r.a.createElement("span",{className:"userFullData__label"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),r.a.createElement("textarea",{readOnly:!0,className:"userFullData__description",value:e.userCard.description})))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"userFullData"},r.a.createElement("div",{className:"userFullData__col1"},r.a.createElement("span",{className:"userFullData__label"},"\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",r.a.createElement("strong",null,e.userCard.firstName," ",e.userCard.lastName)),r.a.createElement("span",{className:"userFullData__label"},"No extended data")))):r.a.createElement("div",null,"Click to row, for more information...")},G=function(e){var t=Object(i.d)((function(e){return e.settings.itemsPerPage})),a=Object(i.c)();return r.a.createElement("div",null,r.a.createElement("div",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"),r.a.createElement("div",null,r.a.createElement("input",{name:"itemsPerPage",value:t,onChange:function(e){a({type:"SET-ITEMS-PER-PAGE",itemsPerPage:e.target.value})}}),r.a.createElement("button",{onClick:function(e){a({type:"SET-ITEMS-PER-PAGE",itemsPerPage:t+1})}},"+"),r.a.createElement("button",{onClick:function(e){var n=1;t>1&&(n=t-1),a({type:"SET-ITEMS-PER-PAGE",itemsPerPage:n})}},"-")),r.a.createElement(c.b,{to:"/"},"Save"))};var Q=Object(i.b)((function(e){return{itemsCount:e.data.tableDataOutput.length,itemsPerPage:e.data.settings.itemsPerPage,currentPage:e.data.settings.currentPage}}),{setCurrentPage:v})((function(e){var t=Object(i.d)((function(e){return e.settings.itemsPerPage})),a=e.itemsCount,l=Math.ceil(a/t);Object(n.useEffect)((function(){e.currentPage>=l&&e.setCurrentPage(l)}),[a]);for(var s=[],c=1;c<=l;c++)s.push(c);var o=s.map((function(t,a){return r.a.createElement("li",{key:"pag-"+a,className:t===e.currentPage?k.a.numberWrapper+" "+k.a.numberActive:k.a.numberWrapper},r.a.createElement("button",{className:k.a.keyboard_focus_button,tabIndex:"0",onClick:function(){e.setCurrentPage(t)}},r.a.createElement("span",{tabIndex:"-1",className:k.a.keyboard_focus_button__label},t)))}));return r.a.createElement("ul",{className:k.a.paginationArea},o)}));var q=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(c.b,{to:"/settings",className:"settingsBtn"},"\u2630"),e.datasetType?r.a.createElement(A,null):"Please select dataset for initialization..."),r.a.createElement("main",{className:"App-main"},r.a.createElement(S.a,{path:"/",exact:!0,render:function(){return e.datasetType?r.a.createElement(B,null):r.a.createElement(x,{isFetching:e.isFetching,getDataset:e.getDataset})}}),r.a.createElement(S.a,{path:"/",exact:!0,render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(S.a,{path:"/settings",component:G})),r.a.createElement("footer",{className:"App-footer"},e.datasetType?r.a.createElement(z,{userCard:e.userCard}):null))},J=Object(i.b)((function(e){return{tableColumns:e.data.settings.listColumnsOfTable,data:e.data.tableDataOutput,sortMode:e.data.settings.sortMode,sortDirection:e.data.settings.sortDirection,datasetType:e.data.settings.datasetType,itemsPerPage:e.data.settings.itemsPerPage,currentPage:e.data.settings.currentPage,isFetching:e.data.settings.isFetching,filter:e.data.filter,userCard:e.data.userCard,isEditorActive:e.data.isEditorActive}}),{getDataset:function(e){return function(t){t(y(!0)),function(e){var t=null;switch(e){case"BIG":t="./data-examples/big.json";break;case"SMALL":t="./data-examples/small.json"}return fetch(t).then((function(e){return e.json()})).catch((function(e){return alert(e)}))}(e).then((function(a){a&&(t(function(e,t){return{type:"INSERT-TABLE",data:e,datasetType:t}}(a,e)),t(f("id")),t({type:"DO-SORT"}),t(g("")),t({type:"DO-FILTER"})),t(y(!1))}))}},applySort:h,setUserCard:C,setCurrentPage:v,applyDelete:_})(q);s.a.render(r.a.createElement(c.a,null,r.a.createElement(i.a,{store:T},r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(205)}},[[97,1,2]]]);
//# sourceMappingURL=main.a478546c.chunk.js.map