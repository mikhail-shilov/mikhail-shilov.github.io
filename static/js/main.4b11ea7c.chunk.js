(this["webpackJsonpfrontend-javascript-test"]=this["webpackJsonpfrontend-javascript-test"]||[]).push([[0],{102:function(e,t,a){},166:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(44),s=a.n(i),l=a(28);a(102),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(10),o=a(8),u=a(93),d=a(208),m=a(48),p=a(6),E={settings:{listColumnsOfTable:[{name:"id",label:"Id"},{name:"firstName",label:"\u0418\u043c\u044f"},{name:"lastName",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},{name:"eMail",label:"\u041f\u043e\u0447\u0442\u0430"},{name:"telNo",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}],sortMode:null,sortDirection:null,itemsPerPage:20,currentPage:1,isFetching:!1,datasetType:null},filter:{draft:"",activeFilter:""},userCard:null,isEditorActive:!1,dataCache:[],tableDataOutput:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP-DATASET":var a=Object(p.a)({},e);return a.settings=Object(p.a)({},e.settings),a.settings.datasetType=t.datasetType,a.dataCache=t.data.map((function(e,t){return{index:t,id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,streetAddress:e.address.streetAddress,city:e.address.city,province:e.address.state,zip:e.address.zip,description:e.description}})),a;case"UPDATE-ROW":var n=Object(p.a)({},e);n.dataCache=Object(m.a)(e.dataCache);var r=t.record,i=n.dataCache.findIndex((function(e){return e.index===r.index}));return n.dataCache[i]=r,n;case"INSERT-ROW":var s=Object(p.a)({},e),l=t.record,c=(l.index,l.id),o=l.firstName,u=l.lastName,d=l.email,f=l.phone,b=l.streetAddress,g=l.city,v=l.province,N=l.zip,h=l.description,D=s.dataCache.map((function(e){return e.index}));D.sort((function(e,t){return e>t?-1:e==t?0:e<t?1:void 0}));var C={index:Number(D[0]+1),id:c*=1,firstName:o,lastName:u,email:d,phone:f,description:h,streetAddress:b,city:g,province:v,zip:N};return s.dataCache=[C].concat(Object(m.a)(e.dataCache)),s;case"SETUP-SORT":var P=Object(p.a)({},e);return P.settings=Object(p.a)({},e.settings),t.force?P.settings.sortDirection="asc":P.settings.sortMode===t.mode&&"asc"===P.settings.sortDirection?P.settings.sortDirection="desc":P.settings.sortDirection="asc",P.settings.sortMode=t.mode,P;case"DO-SORT":var O=Object(p.a)({},e);return O.settings=Object(p.a)({},e.settings),O.dataCache=Object(m.a)(e.dataCache),null!==O.settings.sortMode&&O.dataCache.sort((function(e,t){var a,n;switch(O.settings.sortMode){case"id":a=e.id,n=t.id;break;case"firstName":a=e.firstName,n=t.firstName;break;case"lastName":a=e.lastName,n=t.lastName;break;case"eMail":a=e.email,n=t.email;break;case"telNo":a=e.phone,n=t.phone;break;default:a=e.id,n=t.id}return a<n?"asc"===O.settings.sortDirection?-1:1:a>n?"asc"===O.settings.sortDirection?1:-1:0})),O;case"SETUP-FILTER":var T=Object(p.a)({},e);return T.settings=Object(p.a)({},e.settings),T.filter.activeFilter=t.stringToFind.toLowerCase(),T.filter.draft="",T;case"DO-FILTER":var y=Object(p.a)({},e);y.settings=Object(p.a)({},e.settings);var R=y.filter.activeFilter;return y.tableDataOutput=e.dataCache.filter((function(e){return String(e.id).toLowerCase().includes(R)||e.firstName.toLowerCase().includes(R)||e.lastName.toLowerCase().includes(R)?1:0})),y;case"UPDATE-FILTER-DRAFT":var S=Object(p.a)({},e);return S.filter=Object(p.a)({},e.filter),S.filter.draft=t.value,S;case"SETUP-CURRENT-PAGE":var x=Object(p.a)({},e);return x.settings=Object(p.a)({},e.settings),t.numberOfPage?x.settings.currentPage=t.numberOfPage:x.settings.currentPage=1,x;case"SET-USER-CARD":var A=Object(p.a)({},e);return A.userCard=t.user,A;case"PRELOADER-SWITCH":var _=Object(p.a)({},e);return _.settings=Object(p.a)({},e.settings),_.settings.isFetching=t.mode,_;case"EDITOR-SWITCH":var F=Object(p.a)({},e);return F.isEditorActive=t.mode,F;case"EDITOR-UPDATE":var j=Object(p.a)({},e);switch(j.editor=Object(p.a)({},e.editor),j.editor.user=Object(p.a)({},e.editor.user),t.inputName){case"id":j.editor.user.id=1*t.value;break;case"firstName":j.editor.user.firstName=t.value;break;case"lastName":j.editor.user.lastName=t.value;break;case"email":j.editor.user.email=t.value;break;case"phone":j.editor.user.phone=t.value;break;default:console.log("Incorrect inputName...")}return j;case"DELETE-RECORD":var I=Object(p.a)({},e);return I.dataCache=e.dataCache.filter((function(e){return e.index!==t.index})),I;default:return e}},b=function(e,t){return{type:"SETUP-DATASET",data:e,datasetType:t}},g=function(e,t){return{type:"SETUP-SORT",mode:e,force:t}},v=function(e){return{type:"SETUP-FILTER",stringToFind:e}},N=function(e){return{type:"SETUP-CURRENT-PAGE",numberOfPage:e}},h=function(e){return{type:"PRELOADER-SWITCH",mode:e}},D={isSettingsActive:!1,itemsPerPage:20},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-ITEMS-PER-PAGE":return Object(p.a)(Object(p.a)({},e),{},{itemsPerPage:t.itemsPerPage});default:return e}},P=Object(o.c)({data:f,settings:C,form:d.a}),O=Object(o.d)(P,Object(o.a)(u.a)),T=O;window.store=O;var y=a(7);a(166);var R=function(e){return r.a.createElement("div",{className:"filter"},r.a.createElement("input",{className:"filter__input",value:e.filterState.draft?e.filterState.draft:e.filterState.activeFilter,autoFocus:!0,placeholder:"Part of firstname or lastname...",onChange:function(t){var a=t.target.value;e.updateDraft(a)},onKeyPress:function(t){"Enter"===t.key&&e.setFilter(t.target.value)}}),r.a.createElement("button",{className:"filter__button",onClick:function(){e.setFilter(e.filterState.draft)}},"Filter"),r.a.createElement("button",{className:"filter__button",onClick:function(){e.updateDraft(""),e.setFilter("")}},"Clear"))};var S=function(e){return r.a.createElement("div",{className:"preloader"},"Loading...")};var x=function(e){return e.isFetching?r.a.createElement(S,null):r.a.createElement("div",{className:"datasetMenu"},r.a.createElement("button",{className:"datasetMenu__button",onClick:function(){e.getDataset("INTERNAL")}},"Internal Dataset"),r.a.createElement("button",{className:"datasetMenu__button",onClick:function(){e.getDataset("SMALL")}},"Small Dataset"),r.a.createElement("button",{className:"datasetMenu__button",onClick:function(){e.getDataset("BIG")}},"Big Dataset"))},A=a(95),_=a(23),F=a.n(_);var j=function(e){for(var t=[],a=Object(c.d)((function(e){return e.settings.itemsPerPage})),i=e.itemsCount,s=Math.ceil(i/a),l=1;l<=s;l++)t.push(l);Object(n.useEffect)((function(){e.currentPage>=s&&e.setCurrentPage(s)}),[i]);var o=t.map((function(t,a){return r.a.createElement("li",{key:a,className:t===e.currentPage?F.a.numberWrapper+" "+F.a.numberActive:F.a.numberWrapper},r.a.createElement("a",{onClick:function(){e.setCurrentPage(t)}},t))}));return r.a.createElement("ul",{className:F.a.paginationArea},o)};var I=function(e){var t=e.recordData,a=t.index,n=t.id,i=t.firstName,s=t.lastName,l=t.email,c=t.phone;return r.a.createElement("tr",{onClick:function(){e.setUserCard(e.recordData)}},r.a.createElement("td",null,n),r.a.createElement("td",null,i),r.a.createElement("td",null,s),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",{onClick:function(e){e.stopPropagation()}},r.a.createElement("button",{onClick:function(){var t;t=e.recordData,e.setRecordInEditor(t)}},"Edit"),r.a.createElement("button",{onClick:function(){!function(t){e.deleteRecord(t)}(a)}},"Delete")))},k=a(207),w=a(206),L=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(k.a,{name:"index",component:"input",type:"hidden"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"id",placeholder:"id",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"firstName",placeholder:"First name",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"lastName",placeholder:"Last name",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"email",placeholder:"E-mail",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"phone",placeholder:"Phone number",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"streetAddress",placeholder:"Address",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"city",placeholder:"City",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"province",placeholder:"State",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"zip",placeholder:"zip",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement(k.a,{name:"description",placeholder:"description",component:"textarea",type:"text"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Save"),r.a.createElement("button",{type:"reset"},"Cancel")))};L=Object(w.a)({form:"RecordEditor",enableReinitialize:!0})(L);var M=function(e){return r.a.createElement("div",null,r.a.createElement(L,{onSubmit:function(t){e.updateDataset(t)},initialValues:e.recordInEditor}))};var U=function(e){var t=Object(c.d)((function(e){return e.settings.itemsPerPage})),a=Object(n.useState)(null),i=Object(A.a)(a,2),s=i[0],l=i[1];Object(n.useEffect)((function(){console.log(s)}),[s]);var o=function(t){var a=t.target.name;e.applySort(a)},u=e.tableColumns.map((function(t,a){return r.a.createElement("td",{key:a},r.a.createElement("a",{name:t.name,onClick:o},t.label,e.sortMode===t.name?"asc"===e.sortDirection?" \u25b2":" \u25bc":""))})),d=t*(e.currentPage-1),m=t*e.currentPage,p=e.tableData.length,E=e.tableData.slice(d,m).map((function(t){return r.a.createElement(I,{key:t.index,recordData:t,index:t.index,id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,description:t.description,address:t.address,setUserCard:e.setUserCard,deleteRecord:e.deleteRecord,setRecordInEditor:l})}));return r.a.createElement("div",{className:"container"},r.a.createElement(M,{insertData:e.insertToDataset,updateDataset:e.updateDataset,recordInEditor:s}),r.a.createElement("table",{border:"1",cellSpacing:"0",className:F.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,u,r.a.createElement("td",null,r.a.createElement("button",{disabled:!0},"Add")))),r.a.createElement("tbody",null,E.length>0?E:r.a.createElement("td",{colSpan:u.length+1},"No records"))),r.a.createElement(j,{currentPage:e.currentPage,itemsOnPage:e.itemsPerPage,itemsCount:p,setCurrentPage:e.setCurrentPage}))};var W=function(e){return e.userCard?e.userCard.streetAddress?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"userFullData"},r.a.createElement("div",{className:"userFullData__col1"},r.a.createElement("span",{className:"userFullData__label"},"\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",r.a.createElement("strong",null,e.userCard.firstName," ",e.userCard.lastName)),r.a.createElement("span",{className:"userFullData__label"},"\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",r.a.createElement("b",null,e.userCard.streetAddress)),r.a.createElement("span",{className:"userFullData__label"},"\u0413\u043e\u0440\u043e\u0434: ",r.a.createElement("b",null,e.userCard.city)),r.a.createElement("span",{className:"userFullData__label"},"\u041f\u0440\u043e\u0432\u0438\u043d\u0446\u0438\u044f/\u0448\u0442\u0430\u0442: ",r.a.createElement("b",null,e.userCard.province)),r.a.createElement("span",{className:"userFullData__label"},"\u0418\u043d\u0434\u0435\u043a\u0441: ",r.a.createElement("b",null,e.userCard.zip))),r.a.createElement("div",{className:"userFullData__col2"},r.a.createElement("span",{className:"userFullData__label"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",r.a.createElement("textarea",{readOnly:!0,className:"userFullData__description",value:e.userCard.description}))))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"userFullData"},r.a.createElement("div",{className:"userFullData__col1"},r.a.createElement("span",{className:"userFullData__label"},"\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",r.a.createElement("strong",null,e.userCard.firstName," ",e.userCard.lastName)),r.a.createElement("span",{className:"userFullData__label"},"No extended data")))):r.a.createElement("div",null,"Click to row, for more information...")},z=function(e){var t=Object(c.d)((function(e){return e.settings.itemsPerPage})),a=Object(c.c)();return r.a.createElement("div",null,r.a.createElement("div",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"),r.a.createElement("div",null,r.a.createElement("input",{name:"itemsPerPage",value:t,onChange:function(e){a({type:"SET-ITEMS-PER-PAGE",itemsPerPage:e.target.value})}}),r.a.createElement("button",{onClick:function(e){a({type:"SET-ITEMS-PER-PAGE",itemsPerPage:t+1})}},"+"),r.a.createElement("button",{onClick:function(e){var n=1;t>1&&(n=t-1),a({type:"SET-ITEMS-PER-PAGE",itemsPerPage:n})}},"-")),r.a.createElement(l.b,{to:"/"},"Save"))};var G=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(l.b,{to:"/settings",className:"settingsBtn"},"\u2630"),e.datasetType?r.a.createElement(R,{filterState:e.filter,updateDraft:e.updateDraft,setFilter:e.setFilter}):"Please select dataset for initialization..."),r.a.createElement("main",{className:"App-main"},r.a.createElement(y.a,{path:"/",exact:!0,render:function(){return e.datasetType?r.a.createElement(U,{tableColumns:e.tableColumns,sortMode:e.sortMode,sortDirection:e.sortDirection,itemsPerPage:e.itemsPerPage,currentPage:e.currentPage,tableData:e.data,applySort:e.applySort,setCurrentPage:e.setCurrentPage,setUserCard:e.setUserCard,isEditorActive:e.isEditorActive,switchEditor:e.switchEditor,insertToDataset:e.insertToDataset,updateDataset:e.updateDataset,deleteRecord:e.applyDelete}):r.a.createElement(x,{isFetching:e.isFetching,getDataset:e.getDataset})}}),r.a.createElement(y.a,{path:"/settings",component:z})),r.a.createElement("footer",{className:"App-footer"},e.datasetType?r.a.createElement(W,{userCard:e.userCard}):null))},B=Object(c.b)((function(e){return{tableColumns:e.data.settings.listColumnsOfTable,data:e.data.tableDataOutput,sortMode:e.data.settings.sortMode,sortDirection:e.data.settings.sortDirection,datasetType:e.data.settings.datasetType,itemsPerPage:e.data.settings.itemsPerPage,currentPage:e.data.settings.currentPage,isFetching:e.data.settings.isFetching,filter:e.data.filter,userCard:e.data.userCard,isEditorActive:e.data.isEditorActive}}),{getDataset:function(e){return function(t){if(t(h(!0)),"INTERNAL"===e){t(b([{id:1,firstName:"\u0420\u0443\u043b\u043e\u043d",lastName:"\u041e\u0431\u043e\u0435\u0432",email:"rulon@test.io",phone:"2342342"},{id:2,firstName:"\u0423\u0448\u0430\u0442",lastName:"\u041f\u043e\u043c\u043e\u0435\u0432",email:"ushat@test.io",phone:"2344672"},{id:3,firstName:"\u0427\u0435\u0440\u0451\u0434",lastName:"\u0417\u0430\u0441\u0442\u043e\u0435\u0432",email:"chered@test.io",phone:"1354682"},{id:4,firstName:"\u041d\u0430\u043b\u0451\u0442",lastName:"\u041a\u043e\u0432\u0431\u043e\u0435\u0432",email:"naljot@test.io",phone:"4337352"},{id:5,firstName:"\u041d\u0430\u0431\u0435\u0433",lastName:"\u041a\u043e\u043c\u0440\u0430\u0434\u043e\u0432",email:"nabeg@test.io",phone:"7569331"},{id:6,firstName:"\u041a\u0443\u043c\u0438\u0440",lastName:"\u0414\u0435\u0431\u0438\u043b\u043e\u0432",email:"kumir@test.io",phone:"554833"},{id:7,firstName:"\u0423\u0447\u0451\u0442",lastName:"\u041f\u043e\u0431\u043e\u0435\u0432",email:"uchot@test.io",phone:"644861"},{id:8,firstName:"\u041f\u043e\u0434\u0436\u043e\u0433",lastName:"\u0421\u0430\u0440\u0430\u0435\u0432",email:"podjog@test.io",phone:"344866"}],e)),t(v("")),t({type:"DO-FILTER"}),t(g("id")),t({type:"DO-SORT"})}else(function(e){var t=null;switch(e){case"BIG":t="http://www.filltext.com/?rows=1000&id={number|1000}&firstName={firstName}&delay=3&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&address={addressObject}&description={lorem|32}";break;case"SMALL":t="http://www.filltext.com/?rows=32&id={number|1000}&firstName={firstName}&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&address={addressObject}&description={lorem|32}"}return fetch(t).then((function(e){return e.json()})).catch((function(e){return alert(e)}))})(e).then((function(a){a&&(t(b(a,e)),t(g("id")),t({type:"DO-SORT"}),t(v("")),t({type:"DO-FILTER"})),t(h(!1))}))}},setFilter:function(e){return function(t){t(v(e)),t({type:"DO-FILTER"}),t(N(1)),t(g("id",!0)),t({type:"DO-SORT"})}},applySort:function(e){return function(t){t(g(e)),t({type:"DO-SORT"}),t(v("")),t({type:"DO-FILTER"}),t(N(1))}},updateDraft:function(e){return{type:"UPDATE-FILTER-DRAFT",value:e}},setUserCard:function(e){return{type:"SET-USER-CARD",user:e}},setCurrentPage:N,switchEditor:function(e){return{type:"EDITOR-SWITCH",mode:e}},updateDataset:function(e){return function(t){t(function(e){return{type:"UPDATE-ROW",record:e}}(e)),t(v("")),t({type:"DO-FILTER"})}},insertToDataset:function(e){return function(t){t(function(e){return{type:"INSERT-ROW",record:e}}(e)),t(g(null)),t(v("")),t({type:"DO-FILTER"}),t(N(1))}},applyDelete:function(e){return function(t){t(function(e){return{type:"DELETE-RECORD",index:e}}(e)),t(v("")),t({type:"DO-FILTER"})}}})(G);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(c.a,{store:T},r.a.createElement(B,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},23:function(e,t,a){e.exports={header:"table_header__1YNw2",table:"table_table__1D3Jq",paginationArea:"table_paginationArea__2GaqY",numberWrapper:"table_numberWrapper__28A0X",numberActive:"table_numberActive__RNVgb"}},97:function(e,t,a){e.exports=a(205)}},[[97,1,2]]]);
//# sourceMappingURL=main.4b11ea7c.chunk.js.map